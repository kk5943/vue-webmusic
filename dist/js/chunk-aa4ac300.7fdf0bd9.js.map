{"version":3,"sources":["webpack:///./src/views/NewSongs.vue?b7ba","webpack:///./src/utils/mixin.js","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/NewSongs.vue?a979","webpack:///src/views/NewSongs.vue","webpack:///./src/views/NewSongs.vue?7e94","webpack:///./src/views/NewSongs.vue"],"names":["playMusicMixin","data","newsong","methods","toPlayMusic","id","index","request","url","params","res","musicInfo","img","picUrl","album","songName","name","singer","artists","song","$store","commit","console","log","$parent","$el","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","render","_vm","_h","$createElement","_c","_self","staticClass","on","handleClick","model","value","callback","$$v","activeName","expression","attrs","staticStyle","scopedSlots","_u","key","fn","scope","row","$event","$index","_v","_s","mvid","_e","subTitle","_f","duration","staticRenderFns","props","components","computed","watch","mixins","created","getSongsList","tab","event","component"],"mappings":"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","file":"js/chunk-aa4ac300.7fdf0bd9.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongs.vue?vue&type=style&index=0&id=3aca0248&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongs.vue?vue&type=style&index=0&id=3aca0248&lang=scss&scoped=true&\"","import request from 'utils/request.js'\r\nexport const playMusicMixin = {\r\n    data() {\r\n        return {\r\n            newsong: []\r\n        }\r\n    },\r\n    methods: {\r\n        async toPlayMusic(id, index) {\r\n            const res = await request({\r\n                url: '/song/url',\r\n                params: {\r\n                    id\r\n                }\r\n            })\r\n            let musicInfo = {}\r\n            musicInfo.img = this.newsong[index].picUrl || this.newsong[index].album.picUrl\r\n            musicInfo.songName = this.newsong[index].name\r\n            musicInfo.singer = (this.newsong[index].artists && this.newsong[index].artists[0].name) || this.newsong[index].song.artists[0].name\r\n            musicInfo.url = res.data[0].url\r\n            this.$store.commit('PLAY_MUSIC', musicInfo)\r\n\r\n            console.log(this.$parent.$el)\r\n\r\n            // 不能用，因为this.$parent组件是main组件\r\n            // this.$parent.url = res.data[0].url\r\n            // if (this.$route.path === '/home/discovery') {\r\n            //     this.$router.push({\r\n            //         path: '/home',\r\n            //         query: {\r\n            //             url: res.data[0].url\r\n            //         }\r\n            //     })\r\n            // }\r\n        }\r\n    }\r\n}","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.github.io/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"songs-container\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"全部\",\"name\":\"0\"}}),_c('el-tab-pane',{attrs:{\"label\":\"华语\",\"name\":\"7\"}}),_c('el-tab-pane',{attrs:{\"label\":\"欧美\",\"name\":\"96\"}}),_c('el-tab-pane',{attrs:{\"label\":\"日本\",\"name\":\"8\"}}),_c('el-tab-pane',{attrs:{\"label\":\"韩国\",\"name\":\"16\"}})],1),_c('el-table',{staticClass:\"playlit-table\",staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.newsong,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"img-wrap\"},[_c('img',{attrs:{\"src\":scope.row.album.picUrl,\"alt\":\"\"}}),_c('span',{staticClass:\"iconfont icon-play\",on:{\"click\":function($event){return _vm.toPlayMusic(scope.row.id, scope.$index)}}})])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"\",\"label\":\"音乐标题\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"song-wrap\"},[_c('div',{staticClass:\"name-wrap\"},[_c('span',[_vm._v(_vm._s(scope.row.name))]),(scope.row.mvid != 0)?_c('span',{staticClass:\"iconfont icon-mv\"}):_vm._e()]),_c('span',[_vm._v(_vm._s(scope.row.subTitle))])])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"artists[0].name\",\"label\":\"歌手\"}}),_c('el-table-column',{attrs:{\"prop\":\"album.name\",\"label\":\"专辑\"}}),_c('el-table-column',{attrs:{\"prop\":\"duration\",\"label\":\"时长\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(_vm._f(\"formatDuration\")(scope.row.duration)))])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"songs-container\">\r\n    <!-- 标签栏 -->\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <el-tab-pane label=\"全部\" name=\"0\"></el-tab-pane>\r\n      <el-tab-pane label=\"华语\" name=\"7\"></el-tab-pane>\r\n      <el-tab-pane label=\"欧美\" name=\"96\"></el-tab-pane>\r\n      <el-tab-pane label=\"日本\" name=\"8\"></el-tab-pane>\r\n      <el-tab-pane label=\"韩国\" name=\"16\"></el-tab-pane>\r\n    </el-tabs>\r\n\r\n    <!-- table内容栏 -->\r\n    <el-table style=\"width:100%\" :data=\"newsong\" class=\"playlit-table\" stripe>\r\n      <el-table-column type=\"index\"> </el-table-column>\r\n      <el-table-column prop=\"\" label=\"\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"img-wrap\">\r\n            <img :src=\"scope.row.album.picUrl\" alt=\"\" />\r\n            <span class=\"iconfont icon-play\" @click=\"toPlayMusic(scope.row.id, scope.$index)\"></span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"\" label=\"音乐标题\" width=\"180\">\r\n        <template slot-scope=\"scope\">\r\n          <div class=\"song-wrap\">\r\n            <div class=\"name-wrap\">\r\n              <span>{{ scope.row.name }}</span>\r\n              <span v-if=\"scope.row.mvid != 0\" class=\"iconfont icon-mv\"></span>\r\n            </div>\r\n            <span>{{ scope.row.subTitle }}</span>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"artists[0].name\" label=\"歌手\"> </el-table-column>\r\n      <el-table-column prop=\"album.name\" label=\"专辑\"> </el-table-column>\r\n      <el-table-column prop=\"duration\" label=\"时长\">\r\n        <template slot-scope=\"scope\">\r\n          <span>{{ scope.row.duration | formatDuration }}</span>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from 'utils/request.js'\r\nimport { playMusicMixin } from 'utils/mixin.js'\r\nexport default {\r\n  name: '',\r\n  data() {\r\n    return {\r\n      activeName: '0',\r\n      newsong: []\r\n    }\r\n  },\r\n  props: {},\r\n  components: {},\r\n  computed: {},\r\n  watch: {},\r\n  mixins: [playMusicMixin],\r\n  created() {\r\n    this.getSongsList()\r\n  },\r\n  methods: {\r\n    // 获取歌曲列表数据\r\n    async getSongsList() {\r\n      const res = await request({\r\n        url: '/top/song',\r\n        params: {\r\n          type: this.activeName\r\n        }\r\n      })\r\n      console.log(res)\r\n      this.newsong = res.data\r\n    },\r\n\r\n    handleClick(tab, event) {\r\n      console.log(tab, event)\r\n      this.getSongsList()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ndiv.songs-container {\r\n  .el-tabs {\r\n    // margin-top: 20px;\r\n    // width: 70%;\r\n    padding: 10px;\r\n    ::v-deep .el-tabs__header {\r\n      // margin-left: 35%;\r\n      display: flex;\r\n      justify-content: flex-end;\r\n      .el-tabs__nav-wrap {\r\n        .el-tabs__nav {\r\n          width: 80%;\r\n        }\r\n        &::after {\r\n          width: 0;\r\n        }\r\n        .el-tabs__active-bar {\r\n          width: 0;\r\n          background-color: rgb(221, 109, 96);\r\n        }\r\n        .el-tabs__item {\r\n          padding: 0 20px;\r\n          &:hover {\r\n            color: rgb(221, 109, 96);\r\n          }\r\n          &.is-active {\r\n            color: rgb(221, 109, 96);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .playlit-table {\r\n    .img-wrap {\r\n      position: relative;\r\n      overflow: hidden;\r\n      width: 70px;\r\n      height: 70px;\r\n      &:hover {\r\n        .icon-play {\r\n          opacity: 1;\r\n        }\r\n      }\r\n      img {\r\n        border-radius: 5px;\r\n      }\r\n      .icon-play {\r\n        position: absolute;\r\n        width: 25px;\r\n        height: 25px;\r\n        left: 50%;\r\n        top: 50%;\r\n        transform: translate(-50%, -50%);\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        border-radius: 50%;\r\n        background: rgba(255, 255, 255, 0.8);\r\n        color: #dd6d60;\r\n        font-size: 12px;\r\n        opacity: 0;\r\n        &::before {\r\n          transform: translateX(2px);\r\n        }\r\n      }\r\n    }\r\n    .song-wrap {\r\n      > span {\r\n        margin-top: 20px;\r\n        display: inline-block;\r\n        color: #bebebe;\r\n      }\r\n      .name-wrap {\r\n        span {\r\n        }\r\n        span.icon-mv {\r\n          padding-left: 5px;\r\n          color: #dd6d60;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongs.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewSongs.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewSongs.vue?vue&type=template&id=3aca0248&scoped=true&\"\nimport script from \"./NewSongs.vue?vue&type=script&lang=js&\"\nexport * from \"./NewSongs.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NewSongs.vue?vue&type=style&index=0&id=3aca0248&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3aca0248\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}