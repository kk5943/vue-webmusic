(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a98928a"],{"028a":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"items-wrap"},t._l(t.recommendList,(function(a){return s("div",{key:a.id,staticClass:"item",on:{click:function(s){return t.toPlayList(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"num-wrap"},[t._v(" 播放量: "),s("span",{staticClass:"num"},[t._v(" "+t._s(t._f("formatCount")(a.playCount)))])]),s("img",{attrs:{src:a.coverImgUrl,alt:""}}),s("span",{staticClass:"iconfont icon-play"})]),s("p",{staticClass:"name"},[t._v(t._s(a.description))])])})),0)},n=[],i={name:"",props:{recommendList:{type:Array,default:function(){return[]}}},data:function(){return{}},components:{},computed:{},watch:{},created:function(){console.log("RecommendList")},methods:{toPlayList:function(t){this.$router.push("/home/playlist?id=".concat(t))}}},r=i,o=(s("0423"),s("2877")),c=Object(o["a"])(r,e,n,!1,null,"48386de6",null);a["a"]=c.exports},"0423":function(t,a,s){"use strict";var e=s("5097"),n=s.n(e);n.a},3343:function(t,a,s){},"4d4d":function(t,a,s){"use strict";var e=s("91c5"),n=s.n(e);n.a},5097:function(t,a,s){},"53e7":function(t,a,s){"use strict";var e=s("3343"),n=s.n(e);n.a},"91c5":function(t,a,s){},a9e2:function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"items"},t._l(t.mvList,(function(a){return s("div",{key:a.id,staticClass:"item",on:{click:function(s){return t.toMV(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("span",{staticClass:"iconfont icon-play"}),s("span",{staticClass:"num"},[t._v(t._s(t._f("formatCount")(a.playCount)))])]),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatDuration")(a.duration)))])]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"name"},[t._v(t._s(a.name))]),s("p",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)},n=[],i={name:"",data:function(){return{}},props:{mvList:{type:Array,default:function(){return[]}}},components:{},computed:{},watch:{},created:function(){},methods:{toMV:function(t){this.$router.push("/home/mv?id=".concat(t))}}},r=i,o=(s("53e7"),s("2877")),c=Object(o["a"])(r,e,n,!1,null,"05bd24f9",null);a["a"]=c.exports},b0c0:function(t,a,s){var e=s("83ab"),n=s("9bf2").f,i=Function.prototype,r=i.toString,o=/^\s*function ([^ (]*)/,c="name";e&&!(c in i)&&n(i,c,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},eeac:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"result-container"},[s("div",{staticClass:"title-wrap"},[s("h3",[t._v(t._s(t.$route.query.keywords))]),s("span",{staticClass:"sub-title"},[t._v("找到"+t._s(t.total)+"个结果")])]),s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"歌曲",name:"1"}},[s("el-table",{staticClass:"playlit-table",staticStyle:{width:"100%"},attrs:{data:t.songList,stripe:""},on:{"row-dblclick":t.toPlayMusic}},[s("el-table-column",{attrs:{type:"index"}}),s("el-table-column",{attrs:{prop:"",label:"音乐标题",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("div",{staticClass:"song-wrap"},[s("div",{staticClass:"name-wrap"},[s("span",[t._v(t._s(a.row.name))]),0!=a.row.mvid?s("span",{staticClass:"iconfont icon-mv",on:{click:function(s){return t.toMV(a.row.id)}}}):t._e()]),0!=a.row.alias.length?s("span",{staticClass:"sub-name"},[t._v(t._s(a.row.alias[0]))]):t._e()])]}}])}),s("el-table-column",{attrs:{prop:"artists[0].name",label:"歌手"}}),s("el-table-column",{attrs:{prop:"album.name",label:"专辑"}}),s("el-table-column",{attrs:{prop:"duration",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(a){return[s("span",[t._v(t._s(t._f("formatDuration")(a.row.duration)))])]}}])})],1)],1),s("el-tab-pane",{attrs:{label:"歌单",name:"1000"}},[s("recommend-list",{staticClass:"recommend-list",attrs:{"recommend-list":t.playList}})],1),s("el-tab-pane",{attrs:{label:"MV",name:"1004"}},[s("mv-list",{attrs:{"mv-list":t.mvList}})],1)],1),s("el-pagination",{attrs:{background:"","current-page":t.pagenum,"page-size":t.limit,layout:" prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)},n=[],i=(s("b0c0"),s("96cf"),s("1da1")),r=s("b775"),o=s("028a"),c=s("a9e2"),l={name:"",data:function(){return{activeName:"1",limit:15,type:1,pagenum:1,total:0,songList:[],playList:[],mvList:[]}},props:{},components:{RecommendList:o["a"],MvList:c["a"]},computed:{},watch:{$route:function(t,a){this.searchResult()}},created:function(){console.log("搜索组件创建开始"),this.searchResult()},methods:{toMV:function(t){this.$router.push("/home/mv?id=".concat(t))},toPlayMusic:function(t,a,s){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["a"])({url:"/song/url",params:{id:t.id}});case 2:s=a.sent,n={},n.img=t.artists[0].img1v1Url,n.songName=t.name,n.singer=t.artists&&t.artists[0].name||t.song.artists[0].name,n.url=s.data[0].url,e.$store.commit("PLAY_MUSIC",n),console.log(e.$parent.$el);case 10:case"end":return a.stop()}}),a)})))()},handleClick:function(t,a){this.pagenum=1,this.limit="1004"==this.activeName?12:15,this.searchResult()},searchResult:function(){var t=this;Object(r["a"])({url:"/search",params:{keywords:this.$route.query.keywords,limit:this.limit,offset:(this.pagenum-1)*this.limit,type:this.activeName}}).then((function(a){switch(console.log(a),t.activeName){case"1":t.songList=a.result.songs,t.total=a.result.songCount;break;case"1000":t.playList=a.result.playlists,t.total=a.result.playlistCount;break;case"1004":t.mvList=a.result.mvs,t.total=a.result.mvCount;break;default:break}}))},handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pagenum=t,this.searchResult()}}},u=l,m=(s("4d4d"),s("2877")),p=Object(m["a"])(u,e,n,!1,null,"46175ef2",null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-4a98928a.75c5758e.js.map