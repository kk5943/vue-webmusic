(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1aa1e9a6"],{"151f":function(t,a,s){"use strict";var e=s("6605"),n=s.n(e);n.a},"2ac3":function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"mv-container"},[s("div",{staticClass:"mv-wrap"},[s("h3",{staticClass:"title"},[t._v("MV详情")]),s("div",{staticClass:"video-wrap"},[s("video",{attrs:{controls:"",autoplay:"",src:t.mvUrl}})]),s("div",{staticClass:"mv-info-wrap"},[s("div",{staticClass:"singer-wrap"},[s("div",{staticClass:"avator-wrap"},[s("img",{attrs:{controls:"",src:t.artistCover,alt:""}})]),s("span",{staticClass:"name"},[t._v(t._s(t.artistName))])]),s("div",{staticClass:"mv-info"},[s("h3",{staticClass:"title"},[t._v(t._s(t.mvName))]),s("span",{staticClass:"data"},[t._v("发布: "+t._s(t.publishTime))]),s("span",{staticClass:"number"},[t._v("播放: "+t._s(t._f("formatCount")(t.playCount)))]),s("p",{staticClass:"desc"},[t._v(t._s(t.desc))])])]),0!=t.hotComment.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 热门评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.hotComment.length)+")")])]),s("div",{staticClass:"items-wrap"},t._l(t.hotComment,(function(a){return s("div",{key:a.commentId,staticClass:"item-wrap"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("p",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+" : ")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("p",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+" : ")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("p",{staticClass:"data"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0)]):t._e(),0!=t.comments.length?s("div",{staticClass:"comment-wrap"},[s("p",{staticClass:"title"},[t._v(" 最新评论"),s("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),s("div",{staticClass:"items-wrap"},t._l(t.comments,(function(a){return s("div",{key:a.commentId,staticClass:"item-wrap"},[s("div",{staticClass:"icon-wrap"},[s("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),s("div",{staticClass:"content-wrap"},[s("p",{staticClass:"content"},[s("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+" : ")]),s("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?s("p",{staticClass:"re-content"},[s("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+" : ")]),s("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),s("p",{staticClass:"data"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0)]):t._e(),s("el-pagination",{attrs:{background:"","current-page":t.pagenum,layout:" prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),s("div",{staticClass:"mv-recommend"},[s("h3",{staticClass:"title"},[t._v("相关推荐")]),s("div",{staticClass:"items"},t._l(t.mvList,(function(a){return s("div",{key:a.id,staticClass:"item",on:{click:function(s){return t.toMV(a.id)}}},[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:a.cover,alt:""}}),s("span",{staticClass:"iconfont icon-play"}),s("div",{staticClass:"num-wrap"},[s("span",{staticClass:"iconfont icon-play"}),s("span",{staticClass:"num"},[t._v(t._s(t._f("formatCount")(a.playCount)))])]),s("span",{staticClass:"time"},[t._v(t._s(t._f("formatDuration")(a.duration)))])]),s("div",{staticClass:"info-wrap"},[s("p",{staticClass:"name"},[t._v(t._s(a.name))]),s("p",{staticClass:"singer"},[t._v(t._s(a.artistName))])])])})),0)])])},n=[],i=(s("b0c0"),s("96cf"),s("1da1")),r=s("b775"),c=(s("c1df"),{name:"",data:function(){return{limit:5,pagenum:1,hotComment:[],comments:[],total:0,mvList:[],mvUrl:"",mvName:"",playCount:"",publishTime:"",desc:"",artistName:"",artistCover:""}},props:{},components:{},computed:{},watch:{$route:function(){this.pagenum=1,this.getComments(),this.getInfo()}},created:function(){this.getComments(),this.getInfo()},methods:{handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pagenum=t,this.getComments()},getComments:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(r["a"])({url:"/comment/mv",params:{id:t.$route.query.id,limit:t.limit,offset:(t.pagenum-1)*t.limit}});case 2:s=a.sent,console.log(s),0!=s.hotComments.length&&(t.hotComment=s.hotComments),t.comments=s.comments,t.total=s.total;case 7:case"end":return a.stop()}}),a)})))()},getInfo:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var s,e,n,i,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s=t.$route.query.id,a.next=3,Object(r["a"])({url:"/simi/mv",params:{mvid:s}});case 3:return e=a.sent,t.mvList=e.mvs,a.next=7,Object(r["a"])({url:"/mv/url",params:{id:s}});case 7:return n=a.sent,t.mvUrl=n.data.url,a.next=11,Object(r["a"])({url:"/mv/detail",params:{mvid:s}});case 11:return i=a.sent,t.mvName=i.data.name,t.playCount=i.data.playCount,t.publishTime=i.data.publishTime,t.desc=i.data.desc,a.next=18,Object(r["a"])({url:"/artists",params:{id:i.data.artistId}});case 18:c=a.sent,t.artistName=c.artist.name,t.artistCover=c.artist.picUrl;case 21:case"end":return a.stop()}}),a)})))()},toMV:function(t){this.$router.push("/home/mv?id=".concat(t))}}}),o=c,m=(s("151f"),s("2877")),l=Object(m["a"])(o,e,n,!1,null,"b42756b2",null);a["default"]=l.exports},6605:function(t,a,s){},b0c0:function(t,a,s){var e=s("83ab"),n=s("9bf2").f,i=Function.prototype,r=i.toString,c=/^\s*function ([^ (]*)/,o="name";e&&!(o in i)&&n(i,o,{configurable:!0,get:function(){try{return r.call(this).match(c)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-1aa1e9a6.4ac619b8.js.map