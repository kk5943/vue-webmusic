(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-58f9ab65"],{"9b6f":function(t,a,e){"use strict";var s=e("b31e"),n=e.n(s);n.a},b0c0:function(t,a,e){var s=e("83ab"),n=e("9bf2").f,r=Function.prototype,i=r.toString,c=/^\s*function ([^ (]*)/,l="name";s&&!(l in r)&&n(r,l,{configurable:!0,get:function(){try{return i.call(this).match(c)[1]}catch(t){return""}}})},b31e:function(t,a,e){},fddd:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"playlist-container"},[e("div",{staticClass:"top-wrap"},[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:t.coverImgUrl,alt:""}})]),e("div",{staticClass:"info-wrap"},[e("p",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"avator-wrap"},[e("img",{attrs:{src:t.avatarUrl,alt:""}}),e("span",{staticClass:"name"},[t._v(t._s(t.nickname))]),e("span",{staticClass:"time"},[t._v(t._s(t.createTime))])]),t._m(0),e("div",{staticClass:"tag-wrap"},[e("span",{staticClass:"title"},[t._v("标签:")]),e("ul",t._l(t.tags,(function(a){return e("li",{key:a},[t._v(t._s(a))])})),0)]),e("div",{staticClass:"desc-wrap"},[e("span",{staticClass:"title"},[t._v("简介:")]),e("span",[t._v(t._s(t.signature))])])])]),e("el-tabs",{model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[e("el-tab-pane",{attrs:{label:"歌曲列表",name:"1"}},[e("el-table",{staticClass:"playlit-table",staticStyle:{width:"100%"},attrs:{data:t.songList,stripe:""}},[e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{prop:"",label:"",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"img-wrap"},[e("img",{attrs:{src:a.row.al.picUrl,alt:""}}),e("span",{staticClass:"iconfont icon-play",on:{click:function(e){return t.toPlayMusic(a.row.id,a.$index)}}})])]}}])}),e("el-table-column",{attrs:{prop:"",label:"音乐标题",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticClass:"song-wrap"},[e("div",{staticClass:"name-wrap"},[e("span",[t._v(t._s(a.row.name))]),0!=a.row.mv?e("span",{staticClass:"iconfont icon-mv"}):t._e()]),e("span",[t._v(t._s(a.row.subTitle))])])]}}])}),e("el-table-column",{attrs:{prop:"ar[0].name",label:"歌手"}}),e("el-table-column",{attrs:{prop:"al.name",label:"专辑"}}),e("el-table-column",{attrs:{prop:"duration",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("span",[t._v(t._s(t._f("formatDuration")(a.row.dt)))])]}}])})],1)],1),e("el-tab-pane",{attrs:{label:"评论("+(t.total+t.hotComment.length)+")",name:"2"}},[0!=t.hotComment.length?e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"title"},[t._v(" 热门评论"),e("span",{staticClass:"number"},[t._v("("+t._s(t.hotComment.length)+")")])]),e("div",{staticClass:"items-wrap"},t._l(t.hotComment,(function(a){return e("div",{key:a.commentId,staticClass:"item-wrap"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),e("div",{staticClass:"content-wrap"},[e("p",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+" : ")]),e("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?e("p",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+" : ")]),e("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),e("p",{staticClass:"data"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0)]):t._e(),0!=t.comments.length?e("div",{staticClass:"comment-wrap"},[e("p",{staticClass:"title"},[t._v(" 最新评论"),e("span",{staticClass:"number"},[t._v("("+t._s(t.total)+")")])]),e("div",{staticClass:"items-wrap"},t._l(t.comments,(function(a){return e("div",{key:a.commentId,staticClass:"item-wrap"},[e("div",{staticClass:"icon-wrap"},[e("img",{attrs:{src:a.user.avatarUrl,alt:""}})]),e("div",{staticClass:"content-wrap"},[e("p",{staticClass:"content"},[e("span",{staticClass:"name"},[t._v(t._s(a.user.nickname)+" : ")]),e("span",{staticClass:"comment"},[t._v(t._s(a.content))])]),0!=a.beReplied.length?e("p",{staticClass:"re-content"},[e("span",{staticClass:"name"},[t._v(t._s(a.beReplied[0].user.nickname)+" : ")]),e("span",{staticClass:"comment"},[t._v(t._s(a.beReplied[0].content))])]):t._e(),e("p",{staticClass:"data"},[t._v(t._s(t._f("formatTime")(a.time)))])])])})),0)]):t._e(),e("el-pagination",{attrs:{background:"","current-page":t.pagenum,layout:" prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)},n=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"play-wrap"},[e("span",{staticClass:"iconfont icon-circle-play"}),e("span",{staticClass:"text"},[t._v("播放全部")])])}],r=(e("b0c0"),e("96cf"),e("1da1")),i=e("b775"),c=e("c1df"),l=e.n(c),o={name:"",data:function(){return{activeName:"1",pagenum:1,limit:20,songList:[],title:"",avatarUrl:"",coverImgUrl:"",signature:"",nickname:"",tags:[],createTime:"",hotComment:[],hotCount:0,comments:[],total:0}},props:{},components:{},computed:{},watch:{},created:function(){this.getPlayListDetail(),this.getHotComment(),this.getNewComment()},methods:{handleCurrentChange:function(t){console.log("当前页: ".concat(t)),this.pagenum=t,this.getNewComment()},toPlayMusic:function(t,a){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(i["a"])({url:"/song/url",params:{id:t}});case 2:n=s.sent,r={},r.img=e.songList[a].al.picUrl,r.songName=e.songList[a].name,r.singer=e.songList[a].ar[0].name,r.url=n.data[0].url,e.$store.commit("PLAY_MUSIC",r),console.log(e.$parent.$el);case 10:case"end":return s.stop()}}),s)})))()},getPlayListDetail:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["a"])({url:"/playlist/detail",params:{id:t.$route.query.id}});case 2:e=a.sent,t.songList=e.playlist.tracks,t.title=e.playlist.name,t.avatarUrl=e.playlist.creator.avatarUrl,t.coverImgUrl=e.playlist.coverImgUrl,t.signature=e.playlist.creator.signature,t.nickname=e.playlist.creator.nickname,t.tags=e.playlist.tags,t.createTime=l()(e.playlist.createTime).format("YYYY-MM-DD");case 11:case"end":return a.stop()}}),a)})))()},getHotComment:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["a"])({url:"/comment/hot",params:{id:t.$route.query.id,type:2}});case 2:e=a.sent,console.log(e),t.hotComment=e.hotComments;case 5:case"end":return a.stop()}}),a)})))()},getNewComment:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(i["a"])({url:"/comment/playlist",params:{id:t.$route.query.id,limit:5,offset:5*(t.pagenum-1)}});case 2:e=a.sent,console.log(e),t.comments=e.comments,t.total=e.total;case 6:case"end":return a.stop()}}),a)})))()}}},m=o,u=(e("9b6f"),e("2877")),p=Object(u["a"])(m,s,n,!1,null,"52a4ebbc",null);a["default"]=p.exports}}]);
//# sourceMappingURL=chunk-58f9ab65.565f294e.js.map